(function(){"use strict";var t={3922:function(t,e,r){var i=r(8935),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:"header"}},[r("div",{attrs:{id:"header-cont"}},[r("h2",[t._v("Memory Layout")]),r("div",{attrs:{id:"button-cont"}},[r("vscode-button",{attrs:{disabled:!(t.status.ramVerified&&t.status.romVerified)},on:{click:t.onSave}},[t._v("Save")]),r("vscode-button",{attrs:{disabled:!t.status.canReset},on:{click:t.onReset}},[t._v("Reset")])],1)])]),r("div",{staticClass:"container"},[r("div",{staticClass:"left"},[t._m(0),r("div",{attrs:{id:"RAM-Layout"}},[r("div",[r("table",[r("caption",[t._v("On-Chip")]),t._m(1),r("tbody",t._l(t.data.ram["on-chip"],(function(e,i){return r("tr",{key:i},[r("td",[r("vscode-checkbox",{attrs:{id:"iram-"+e.id+"-used","current-checked":e.isDef},on:{change:function(t){e.isDef=t.target.checked}}},[t._v(t._s("IRAM"+e.id))])],1),r("td",[r("vscode-text-field",{attrs:{id:"iram-"+e.id+"-addr",maxlength:t.style["addr_size-text-max-len"],"current-value":e.addr},on:{change:function(t){e.addr=t.target.value}}})],1),r("td",[r("vscode-text-field",{attrs:{id:"iram-"+e.id+"-size",maxlength:t.style["addr_size-text-max-len"],"current-value":e.size},on:{change:function(t){e.size=t.target.value}}})],1),r("td",[r("vscode-checkbox",{attrs:{"current-checked":e.noInit},on:{change:function(t){e.noInit=t.target.checked}}})],1)])})),0)]),r("table",[r("caption",[t._v("Off-Chip")]),t._m(2),r("tbody",t._l(t.data.ram["off-chip"],(function(e,i){return r("tr",{key:i},[r("td",[r("vscode-checkbox",{attrs:{id:"ram-"+e.id+"-used","current-checked":e.isDef},on:{change:function(t){e.isDef=t.target.checked}}},[t._v(t._s("RAM"+e.id))])],1),r("td",[r("vscode-text-field",{attrs:{id:"ram-"+e.id+"-addr",maxlength:t.style["addr_size-text-max-len"],"current-value":e.addr},on:{change:function(t){e.addr=t.target.value}}})],1),r("td",[r("vscode-text-field",{attrs:{id:"ram-"+e.id+"-size",maxlength:t.style["addr_size-text-max-len"],"current-value":e.size},on:{change:function(t){e.size=t.target.value}}})],1),r("td",[r("vscode-checkbox",{attrs:{"current-checked":e.noInit},on:{change:function(t){e.noInit=t.target.checked}}})],1)])})),0)])])]),r("div",[r("p",{staticClass:"code"},[t._v("RAM Total:")]),r("pre",[t._v(t._s(t.status.totalRamSize))])])]),r("div",{staticClass:"right"},[t._m(3),r("div",{attrs:{id:"ROM-Layout"}},[r("div",[r("table",[r("caption",[t._v("On-Chip")]),t._m(4),r("tbody",t._l(t.data.rom["on-chip"],(function(e,i){return r("tr",{key:i},[r("td",[r("vscode-checkbox",{attrs:{id:"irom-"+e.id+"-used","current-checked":e.isDef},on:{change:function(t){e.isDef=t.target.checked}}},[t._v(t._s("IROM"+e.id))])],1),r("td",[r("vscode-text-field",{attrs:{id:"irom-"+e.id+"-addr",maxlength:t.style["addr_size-text-max-len"],"current-value":e.addr},on:{change:function(t){e.addr=t.target.value}}})],1),r("td",[r("vscode-text-field",{attrs:{id:"irom-"+e.id+"-size",maxlength:t.style["addr_size-text-max-len"],"current-value":e.size},on:{change:function(t){e.size=t.target.value}}})],1),r("td",[r("vscode-radio",{attrs:{"current-checked":e.isStartup},on:{change:function(e){e.target.currentChecked&&t.onStartupRomRadioChecked("on-chip",i)}}})],1)])})),0)]),r("table",[r("caption",[t._v("Off-Chip")]),t._m(5),r("tbody",t._l(t.data.rom["off-chip"],(function(e,i){return r("tr",{key:i},[r("td",[r("vscode-checkbox",{attrs:{id:"rom-"+e.id+"-used","current-checked":e.isDef},on:{change:function(t){e.isDef=t.target.checked}}},[t._v(t._s("ROM"+e.id))])],1),r("td",[r("vscode-text-field",{attrs:{id:"rom-"+e.id+"-addr",maxlength:t.style["addr_size-text-max-len"],"current-value":e.addr},on:{change:function(t){e.addr=t.target.value}}})],1),r("td",[r("vscode-text-field",{attrs:{id:"rom-"+e.id+"-size",maxlength:t.style["addr_size-text-max-len"],"current-value":e.size},on:{change:function(t){e.size=t.target.value}}})],1),r("td",[r("vscode-radio",{attrs:{"current-checked":e.isStartup},on:{change:function(e){e.target.currentChecked&&t.onStartupRomRadioChecked("off-chip",i)}}})],1)])})),0)])])]),r("div",[r("p",{staticClass:"code"},[t._v("ROM Total:")]),r("pre",[t._v(t._s(t.status.totalRomSize))])])])])])},n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h4",[r("strong",[t._v("Read/Write")]),t._v(" Memeory Areas ")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",[t._v("Default")]),r("th",[t._v("Start Address")]),r("th",[t._v("Size")]),r("th",[t._v("NoInit")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",[t._v("Default")]),r("th",[t._v("Start Address")]),r("th",[t._v("Size")]),r("th",[t._v("NoInit")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h4",[r("strong",[t._v("Read/Only")]),t._v(" Memeory Areas ")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",[t._v("Default")]),r("th",[t._v("Start Address")]),r("th",[t._v("Size")]),r("th",[t._v("Startup")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",[t._v("Default")]),r("th",[t._v("Start Address")]),r("th",[t._v("Size")]),r("th",[t._v("Startup")])])])}];let o,s={style:{"addr_size-text-max-len":16},status:{canReset:!1,ramVerified:!1,romVerified:!1,totalRamSize:"",totalRomSize:""},data:{ram:{"on-chip":[{id:1,isDef:!0,addr:"",size:"",noInit:!1},{id:2,isDef:!1,addr:"",size:"",noInit:!1}],"off-chip":[{id:1,isDef:!1,addr:"",size:"",noInit:!1},{id:2,isDef:!1,addr:"",size:"",noInit:!1},{id:3,isDef:!1,addr:"",size:"",noInit:!1}]},rom:{"on-chip":[{id:1,isDef:!1,addr:"",size:"",isStartup:!1},{id:2,isDef:!1,addr:"",size:"",isStartup:!1}],"off-chip":[{id:1,isDef:!1,addr:"",size:"",isStartup:!1},{id:2,isDef:!1,addr:"",size:"",isStartup:!1},{id:3,isDef:!1,addr:"",size:"",isStartup:!1}]}}};var d={name:"App",components:{},data(){return s},mounted(){o=this,this.status.ramVerified=this.verifyFormData("ram"),this.status.romVerified=this.verifyFormData("rom")},watch:{"data.ram":{handler:function(){this.status.ramVerified=this.verifyFormData("ram")},deep:!0},"data.rom":{handler:function(){this.status.romVerified=this.verifyFormData("rom")},deep:!0}},methods:{getInstance:function(){return o},reInitData:function(){["on-chip","off-chip"].forEach((t=>{this.data.ram[t].forEach((t=>{t.isDef=!1,t.addr="",t.size="",t.noInit=!1}))})),["on-chip","off-chip"].forEach((t=>{this.data.rom[t].forEach((t=>{t.isDef=!1,t.addr="",t.size="",t.isStartup=!1}))}))},onSave:function(){o.$emit("save")},onReset:function(){o.$emit("reset")},onStartupRomRadioChecked:function(t,e){const r=t;for(const a in this.data.rom[r]){const t=this.data.rom[r][a];a!=e&&t.isStartup&&(t.isStartup=!1)}this.data.rom[r][e].isStartup=!0;const i="on-chip"==t?"off-chip":"on-chip";for(const a of this.data.rom[i])a.isStartup&&(a.isStartup=!1)},verifyFormData:function(t){let e=0,r=0,i=!1;["on-chip","off-chip"].forEach((a=>{this.data[t][a].forEach((n=>{const o="on-chip"==a?`i${t}`:t,s=document.getElementById(`${o}-${n.id}-addr`),d=document.getElementById(`${o}-${n.id}-size`);if(void 0!=n.isStartup){const t=document.getElementById(`${o}-${n.id}-used`);n.isStartup&&!n.isDef?(t.style.borderColor="var(--vscode-inputValidation-errorBorder)",t.style.borderWidth="1px",t.style.borderStyle="dashed",i=!0):t.style.borderStyle="none"}n.isDef||n.isStartup?(r++,/^\s*((?:0x)?[0-9a-f]+|\d+)\s*$/i.test(n.addr)?s.style.borderStyle="none":(s.style.borderColor="var(--vscode-inputValidation-errorBorder)",s.style.borderWidth="1px",s.style.borderStyle="dashed",i=!0),/^\s*0x[0-9a-f]+\s*$/i.test(n.size)?(d.style.borderStyle="none",e+=parseInt(n.size.trim(),16)):/^\s*\d+\s*$/i.test(n.size)?(d.style.borderStyle="none",e+=parseInt(n.size.trim())):(d.style.borderColor="var(--vscode-inputValidation-errorBorder)",d.style.borderWidth="1px",d.style.borderStyle="dashed",i=!0)):(s.style.borderStyle="none",d.style.borderStyle="none")}))}));const a=`    ${(e/1024).toFixed(1)} KB (${e} Bytes)`;return"ram"==t?this.status.totalRamSize=a:this.status.totalRomSize=a,!i&&r>0}}},c=d,u=r(1001),f=(0,u.Z)(c,a,n,!1,null,null,null),l=f.exports,h=r(9168),m=r.n(h);let v,p;i.Z.config.productionTip=!1,i.Z.use(m(),{iconPack:"material",position:"bottom-right",duration:"1800",keepOnHover:!0});let _=!1,y=l.data();const g=acquireVsCodeApi();window.addEventListener("message",(t=>{if("string"==typeof t.data)switch(t.data){case"eide.mem-layout.status.done":i.Z.toasted.success("Successful !",{icon:"check"});break;case"eide.mem-layout.status.fail":i.Z.toasted.error("Failed !, Please check eide error log.",{icon:"error"});break;default:break}else _?(p=t.data,k(p.CURRENT)):(p=t.data,b(),S(),_=!0)})),document.addEventListener("keydown",(function(t){"s"==t.key.toLowerCase()&&t.ctrlKey&&(t.preventDefault(),x())})),g.postMessage("eide.mem-layout.launched");const z="[eide mem layout view] ";function S(){_||(_=!0,console.log(z+"start init and create page ..."),new i.Z({render:t=>t(l)}).$mount("#app"),v=l.methods.getInstance(),v.$on("save",(()=>x())),v.$on("reset",(()=>k())),console.log(z+"app inited done !"))}function b(){k(p.CURRENT),console.log(`${z}init data: `+JSON.stringify(y.data,void 0,2)),p.DEF&&(y.status.canReset=!0)}function x(){const t={RAM:[],ROM:[]};["on-chip","off-chip"].forEach((e=>{const r="ram",i=("on-chip"==e?`i${r}`:`${r}`).toUpperCase();y.data[r][e].forEach((e=>{const a=""==e.addr.trim()||""==e.size.trim();a||t[r.toUpperCase()].push({tag:i,id:e.id,mem:{startAddr:e.addr.trim(),size:e.size.trim()},isChecked:e.isDef,noInit:e.noInit})}))})),["on-chip","off-chip"].forEach((e=>{const r="rom",i=("on-chip"==e?`i${r}`:`${r}`).toUpperCase();y.data[r][e].forEach((e=>{const a=""==e.addr.trim()||""==e.size.trim();a||t[r.toUpperCase()].push({tag:i,id:e.id,mem:{startAddr:e.addr.trim(),size:e.size.trim()},isChecked:e.isDef,isStartup:e.isStartup})}))})),console.log(`${z}save data: `+JSON.stringify(t,void 0,2)),g.postMessage(t)}function k(t){_&&v.reInitData();const e=t||p.DEF;t||console.log(z+"reset data by default value.");for(const r of e.RAM){const t=y.data.ram["IRAM"==r.tag?"on-chip":"off-chip"][r.id-1];t.isDef=r.isChecked,t.addr=r.mem.startAddr,t.size=r.mem.size,t.noInit=r.noInit}for(const r of e.ROM){const t=y.data.rom["IROM"==r.tag?"on-chip":"off-chip"][r.id-1];t.isDef=r.isChecked,t.addr=r.mem.startAddr,t.size=r.mem.size,t.isStartup=r.isStartup}}}},e={};function r(i){var a=e[i];if(void 0!==a)return a.exports;var n=e[i]={exports:{}};return t[i].call(n.exports,n,n.exports,r),n.exports}r.m=t,function(){var t=[];r.O=function(e,i,a,n){if(!i){var o=1/0;for(u=0;u<t.length;u++){i=t[u][0],a=t[u][1],n=t[u][2];for(var s=!0,d=0;d<i.length;d++)(!1&n||o>=n)&&Object.keys(r.O).every((function(t){return r.O[t](i[d])}))?i.splice(d--,1):(s=!1,n<o&&(o=n));if(s){t.splice(u--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[i,a,n]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,i){var a,n,o=i[0],s=i[1],d=i[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(d)var u=d(r)}for(e&&e(i);c<o.length;c++)n=o[c],r.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return r.O(u)},i=self["webpackChunkeide_mem_layout_view"]=self["webpackChunkeide_mem_layout_view"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=r.O(void 0,[998],(function(){return r(3922)}));i=r.O(i)})();