(function(){"use strict";var t={6748:function(t,e,i){var r=i(8935),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{attrs:{id:"header"}},[i("div",{attrs:{id:"header-cont"}},[i("h2",[t._v("Memory Layout")]),i("div",{attrs:{id:"button-cont"}},[i("vscode-button",{attrs:{disabled:!(t.status.ramVerified&&t.status.romVerified)},on:{click:t.onSave}},[t._v("Save")]),i("vscode-button",{attrs:{disabled:!t.status.canReset},on:{click:t.onReset}},[t._v("Reset")])],1)])]),i("div",{staticClass:"container"},[i("div",{staticClass:"left"},[t._m(0),i("div",{attrs:{id:"RAM-Layout"}},[i("div",[i("table",[i("caption",[t._v("On-Chip")]),t._m(1),i("tbody",t._l(t.data.ram["on-chip"],(function(e,r){return i("tr",{key:r},[i("td",[i("vscode-checkbox",{attrs:{id:"iram-"+e.id+"-used","current-checked":e.isDef},on:{change:function(t){e.isDef=t.target.checked}}},[t._v(t._s("IRAM"+e.id))])],1),i("td",[i("vscode-text-field",{attrs:{id:"iram-"+e.id+"-addr",maxlength:t.style["addr_size-text-max-len"],"current-value":e.addr},on:{change:function(t){e.addr=t.target.value}}})],1),i("td",[i("vscode-text-field",{attrs:{id:"iram-"+e.id+"-size",maxlength:t.style["addr_size-text-max-len"],"current-value":e.size},on:{change:function(t){e.size=t.target.value}}})],1),i("td",[i("vscode-checkbox",{attrs:{"current-checked":e.noInit},on:{change:function(t){e.noInit=t.target.checked}}})],1)])})),0)]),i("table",[i("caption",[t._v("Off-Chip")]),t._m(2),i("tbody",t._l(t.data.ram["off-chip"],(function(e,r){return i("tr",{key:r},[i("td",[i("vscode-checkbox",{attrs:{id:"ram-"+e.id+"-used","current-checked":e.isDef},on:{change:function(t){e.isDef=t.target.checked}}},[t._v(t._s("RAM"+e.id))])],1),i("td",[i("vscode-text-field",{attrs:{id:"ram-"+e.id+"-addr",maxlength:t.style["addr_size-text-max-len"],"current-value":e.addr},on:{change:function(t){e.addr=t.target.value}}})],1),i("td",[i("vscode-text-field",{attrs:{id:"ram-"+e.id+"-size",maxlength:t.style["addr_size-text-max-len"],"current-value":e.size},on:{change:function(t){e.size=t.target.value}}})],1),i("td",[i("vscode-checkbox",{attrs:{"current-checked":e.noInit},on:{change:function(t){e.noInit=t.target.checked}}})],1)])})),0)])])]),i("div",[i("p",{staticClass:"code"},[t._v("RAM Total:")]),i("pre",[t._v(t._s(t.status.totalRamSize))])])]),i("div",{staticClass:"right"},[t._m(3),i("div",{attrs:{id:"ROM-Layout"}},[i("div",[i("table",[i("caption",[t._v("On-Chip")]),t._m(4),i("tbody",t._l(t.data.rom["on-chip"],(function(e,r){return i("tr",{key:r},[i("td",[i("vscode-checkbox",{attrs:{id:"irom-"+e.id+"-used","current-checked":e.isDef},on:{change:function(t){e.isDef=t.target.checked}}},[t._v(t._s("IROM"+e.id))])],1),i("td",[i("vscode-text-field",{attrs:{id:"irom-"+e.id+"-addr",maxlength:t.style["addr_size-text-max-len"],"current-value":e.addr},on:{change:function(t){e.addr=t.target.value}}})],1),i("td",[i("vscode-text-field",{attrs:{id:"irom-"+e.id+"-size",maxlength:t.style["addr_size-text-max-len"],"current-value":e.size},on:{change:function(t){e.size=t.target.value}}})],1),i("td",[i("vscode-radio",{attrs:{"current-checked":e.isStartup},on:{change:function(e){e.target.currentChecked&&t.onStartupRomRadioChecked("on-chip",r)}}})],1)])})),0)]),i("table",[i("caption",[t._v("Off-Chip")]),t._m(5),i("tbody",t._l(t.data.rom["off-chip"],(function(e,r){return i("tr",{key:r},[i("td",[i("vscode-checkbox",{attrs:{id:"rom-"+e.id+"-used","current-checked":e.isDef},on:{change:function(t){e.isDef=t.target.checked}}},[t._v(t._s("ROM"+e.id))])],1),i("td",[i("vscode-text-field",{attrs:{id:"rom-"+e.id+"-addr",maxlength:t.style["addr_size-text-max-len"],"current-value":e.addr},on:{change:function(t){e.addr=t.target.value}}})],1),i("td",[i("vscode-text-field",{attrs:{id:"rom-"+e.id+"-size",maxlength:t.style["addr_size-text-max-len"],"current-value":e.size},on:{change:function(t){e.size=t.target.value}}})],1),i("td",[i("vscode-radio",{attrs:{"current-checked":e.isStartup},on:{change:function(e){e.target.currentChecked&&t.onStartupRomRadioChecked("off-chip",r)}}})],1)])})),0)])])]),i("div",[i("p",{staticClass:"code"},[t._v("ROM Total:")]),i("pre",[t._v(t._s(t.status.totalRomSize))])])])])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h4",[i("strong",[t._v("Read/Write")]),t._v(" Memeory Areas ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Default")]),i("th",[t._v("Start Address")]),i("th",[t._v("Size")]),i("th",[t._v("NoInit")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Default")]),i("th",[t._v("Start Address")]),i("th",[t._v("Size")]),i("th",[t._v("NoInit")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h4",[i("strong",[t._v("Read/Only")]),t._v(" Memeory Areas ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Default")]),i("th",[t._v("Start Address")]),i("th",[t._v("Size")]),i("th",[t._v("Startup")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Default")]),i("th",[t._v("Start Address")]),i("th",[t._v("Size")]),i("th",[t._v("Startup")])])])}];let o,d={style:{"addr_size-text-max-len":16},status:{canReset:!1,ramVerified:!1,romVerified:!1,totalRamSize:"",totalRomSize:""},data:{ram:{"on-chip":[{id:1,isDef:!0,addr:"",size:"",noInit:!1},{id:2,isDef:!1,addr:"",size:"",noInit:!1}],"off-chip":[{id:1,isDef:!1,addr:"",size:"",noInit:!1},{id:2,isDef:!1,addr:"",size:"",noInit:!1},{id:3,isDef:!1,addr:"",size:"",noInit:!1}]},rom:{"on-chip":[{id:1,isDef:!1,addr:"",size:"",isStartup:!1},{id:2,isDef:!1,addr:"",size:"",isStartup:!1}],"off-chip":[{id:1,isDef:!1,addr:"",size:"",isStartup:!1},{id:2,isDef:!1,addr:"",size:"",isStartup:!1},{id:3,isDef:!1,addr:"",size:"",isStartup:!1}]}}};var s={name:"App",components:{},data(){return d},mounted(){o=this,this.status.ramVerified=this.verifyFormData("ram"),this.status.romVerified=this.verifyFormData("rom")},watch:{"data.ram":{handler:function(){this.status.ramVerified=this.verifyFormData("ram")},deep:!0},"data.rom":{handler:function(){this.status.romVerified=this.verifyFormData("rom")},deep:!0}},methods:{getInstance:function(){return o},reInitData:function(){["on-chip","off-chip"].forEach((t=>{this.data.ram[t].forEach((t=>{t.isDef=!1,t.addr="",t.size="",t.noInit=!1}))})),["on-chip","off-chip"].forEach((t=>{this.data.rom[t].forEach((t=>{t.isDef=!1,t.addr="",t.size="",t.isStartup=!1}))}))},onSave:function(){o.$emit("save")},onReset:function(){o.$emit("reset")},onStartupRomRadioChecked:function(t,e){const i=t;for(const a in this.data.rom[i]){const t=this.data.rom[i][a];a!=e&&t.isStartup&&(t.isStartup=!1)}this.data.rom[i][e].isStartup=!0;const r="on-chip"==t?"off-chip":"on-chip";for(const a of this.data.rom[r])a.isStartup&&(a.isStartup=!1)},verifyFormData:function(t){let e=0,i=0,r=!1;["on-chip","off-chip"].forEach((a=>{this.data[t][a].forEach((n=>{const o="on-chip"==a?`i${t}`:t,d=document.getElementById(`${o}-${n.id}-addr`),s=document.getElementById(`${o}-${n.id}-size`);if(void 0!=n.isStartup){const t=document.getElementById(`${o}-${n.id}-used`);n.isStartup&&!n.isDef?(t.style.borderColor="var(--vscode-inputValidation-errorBorder)",t.style.borderWidth="1px",t.style.borderStyle="dashed",r=!0):t.style.borderStyle="none"}n.isDef||n.isStartup?(i++,/^\s*((?:0x)?[0-9a-f]+|\d+)\s*$/i.test(n.addr)?d.style.borderStyle="none":(d.style.borderColor="var(--vscode-inputValidation-errorBorder)",d.style.borderWidth="1px",d.style.borderStyle="dashed",r=!0),/^\s*(?:0x)?[0-9a-f]+\s*$/i.test(n.size)?(s.style.borderStyle="none",e+=parseInt(n.size.trim(),16)):/^\s*\d+\s*$/i.test(n.size)?(s.style.borderStyle="none",e+=parseInt(n.size.trim())):(s.style.borderColor="var(--vscode-inputValidation-errorBorder)",s.style.borderWidth="1px",s.style.borderStyle="dashed",r=!0)):(d.style.borderStyle="none",s.style.borderStyle="none")}))}));const a=`    ${(e/1024).toFixed(1)} KB (${e} Bytes)`;return"ram"==t?this.status.totalRamSize=a:this.status.totalRomSize=a,!r&&i>0}}},c=s,u=i(1001),f=(0,u.Z)(c,a,n,!1,null,null,null),l=f.exports,h=i(9168),m=i.n(h);let v,p;r.Z.config.productionTip=!1,r.Z.use(m(),{iconPack:"material",position:"bottom-right",duration:"2500",keepOnHover:!0,action:{icon:"close",onClick:(t,e)=>{e.goAway(0)}}});let _=!1,y=l.data();const g=acquireVsCodeApi();window.addEventListener("message",(t=>{if("string"==typeof t.data)switch(t.data){case"eide.mem-layout.status.done":r.Z.toasted.success("Operation Done !",{icon:"check"});break;case"eide.mem-layout.status.fail":r.Z.toasted.error("Operation Failed !",{icon:"error"});break;default:break}else _?(p=t.data,k(p.CURRENT)):(p=t.data,b(),S(),_=!0)})),document.addEventListener("keydown",(function(t){"s"==t.key.toLowerCase()&&t.ctrlKey&&(t.preventDefault(),x())})),g.postMessage("eide.mem-layout.launched");const z="[eide mem layout view] ";function S(){_||(_=!0,console.log(z+"start init and create page ..."),new r.Z({render:t=>t(l)}).$mount("#app"),v=l.methods.getInstance(),v.$on("save",(()=>x())),v.$on("reset",(()=>k())),console.log(z+"app inited done !"))}function b(){k(p.CURRENT),console.log(`${z}init data: `+JSON.stringify(y.data,void 0,2)),p.DEF&&(y.status.canReset=!0)}function x(){const t={RAM:[],ROM:[]};["on-chip","off-chip"].forEach((e=>{const i="ram",r=("on-chip"==e?`i${i}`:`${i}`).toUpperCase();y.data[i][e].forEach((e=>{const a=""==e.addr.trim()||""==e.size.trim();a||t[i.toUpperCase()].push({tag:r,id:e.id,mem:{startAddr:e.addr.trim(),size:e.size.trim()},isChecked:e.isDef,noInit:e.noInit})}))})),["on-chip","off-chip"].forEach((e=>{const i="rom",r=("on-chip"==e?`i${i}`:`${i}`).toUpperCase();y.data[i][e].forEach((e=>{const a=""==e.addr.trim()||""==e.size.trim();a||t[i.toUpperCase()].push({tag:r,id:e.id,mem:{startAddr:e.addr.trim(),size:e.size.trim()},isChecked:e.isDef,isStartup:e.isStartup})}))})),console.log(`${z}save data: `+JSON.stringify(t,void 0,2)),g.postMessage(t)}function k(t){_&&v.reInitData();const e=t||p.DEF;t||console.log(z+"reset data by default value.");for(const i of e.RAM){const t=y.data.ram["IRAM"==i.tag?"on-chip":"off-chip"][i.id-1];t.isDef=i.isChecked,t.addr=i.mem.startAddr,t.size=i.mem.size,t.noInit=i.noInit}for(const i of e.ROM){const t=y.data.rom["IROM"==i.tag?"on-chip":"off-chip"][i.id-1];t.isDef=i.isChecked,t.addr=i.mem.startAddr,t.size=i.mem.size,t.isStartup=i.isStartup}}}},e={};function i(r){var a=e[r];if(void 0!==a)return a.exports;var n=e[r]={exports:{}};return t[r].call(n.exports,n,n.exports,i),n.exports}i.m=t,function(){var t=[];i.O=function(e,r,a,n){if(!r){var o=1/0;for(u=0;u<t.length;u++){r=t[u][0],a=t[u][1],n=t[u][2];for(var d=!0,s=0;s<r.length;s++)(!1&n||o>=n)&&Object.keys(i.O).every((function(t){return i.O[t](r[s])}))?r.splice(s--,1):(d=!1,n<o&&(o=n));if(d){t.splice(u--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[r,a,n]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,n,o=r[0],d=r[1],s=r[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(a in d)i.o(d,a)&&(i.m[a]=d[a]);if(s)var u=s(i)}for(e&&e(r);c<o.length;c++)n=o[c],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(u)},r=self["webpackChunkeide_mem_layout_view"]=self["webpackChunkeide_mem_layout_view"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=i.O(void 0,[998],(function(){return i(6748)}));r=i.O(r)})();