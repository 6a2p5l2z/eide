{
    "title": "SDCC Compile options",
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "definitions": {
        "misc-controls": {
            "markdownDescription": "Other Options",
            "description.zh-cn": "其他选项",
            "size": "huge",
            "type": [
                "string",
                "array"
            ],
            "items": {
                "type": "string"
            },
            "default": ""
        }
    },
    "properties": {
        "beforeBuildTasks": {
            "markdownDescription": "List of commands to execute before build",
            "description.zh-cn": "构建前要执行的命令列表",
            "type": "array",
            "default": [
                {
                    "name": "clean",
                    "command": "del /Q \"${OutDir}\\*.*\""
                }
            ],
            "items": {
                "type": "object",
                "required": [
                    "name",
                    "command"
                ],
                "properties": {
                    "name": {
                        "markdownDescription": "A readable name for display",
                        "description.zh-cn": "用于显示的可读名称",
                        "type": "string"
                    },
                    "command": {
                        "markdownDescription": "Shell command line",
                        "description.zh-cn": "Shell 命令行",
                        "type": "string"
                    },
                    "disable": {
                        "markdownDescription": "Disable this command",
                        "description.zh-cn": "禁用此命令",
                        "type": "boolean",
                        "enum": [
                            true,
                            false
                        ]
                    },
                    "abortAfterFailed": {
                        "markdownDescription": "Whether to skip subsequent commands if this command failed",
                        "description.zh-cn": "是否在此命令失败时，跳过后续的命令",
                        "type": "boolean",
                        "enum": [
                            true,
                            false
                        ]
                    },
                    "stopBuildAfterFailed": {
                        "markdownDescription": "Whether to stop compiling directly when this command failed",
                        "description.zh-cn": "是否在此命令失败时，直接停止编译",
                        "type": "boolean",
                        "enum": [
                            true,
                            false
                        ]
                    }
                }
            }
        },
        "afterBuildTasks": {
            "markdownDescription": "List of commands to execute after build",
            "description.zh-cn": "构建结束后要执行的命令列表",
            "type": "array",
            "default": [
                {
                    "name": "clean",
                    "command": "del \"${OutDir}\\*._*\""
                }
            ],
            "items": {
                "type": "object",
                "required": [
                    "name",
                    "command"
                ],
                "properties": {
                    "name": {
                        "markdownDescription": "A readable name for display",
                        "description.zh-cn": "用于显示的可读名称",
                        "type": "string"
                    },
                    "command": {
                        "markdownDescription": "Shell command line",
                        "description.zh-cn": "Shell 命令行",
                        "type": "string"
                    },
                    "disable": {
                        "markdownDescription": "Disable this command",
                        "description.zh-cn": "禁用此命令",
                        "type": "boolean",
                        "enum": [
                            true,
                            false
                        ]
                    },
                    "abortAfterFailed": {
                        "markdownDescription": "Whether to skip subsequent commands if this command failed",
                        "description.zh-cn": "是否在此命令失败时，跳过后续的命令",
                        "type": "boolean",
                        "enum": [
                            true,
                            false
                        ]
                    }
                }
            }
        },
        "global": {
            "markdownDescription": "Global Options",
            "description.zh-cn": "全局选项",
            "type": "object",
            "properties": {
                "device": {
                    "markdownDescription": "Processor Type",
                    "description.zh-cn": "芯片类型",
                    "type": "string",
                    "default": "mcs51",
                    "enum": [
                        "mcs51",
                        "ds390",
                        "ds400",
                        "hc08",
                        "s08",
                        "z80",
                        "z180",
                        "r2k",
                        "r3ka",
                        "gbz80",
                        "tlcs90",
                        "ez80_z80",
                        "stm8",
                        "pic14",
                        "pic16",
                        "pdk13",
                        "pdk14",
                        "pdk15"
                    ],
                    "enumDescriptions": [
                        "MCS51",
                        "DS80C390",
                        "DS80C400",
                        "HC08 (aka 68HC08)",
                        "S08 (aka 68HCS08, HCS08, CS08)",
                        "Z80",
                        "Z180",
                        "Rabbit 2000/3000",
                        "Rabbit 3000A",
                        "GameBoy Z80",
                        "TLCS-90",
                        "eZ80_Z80",
                        "STM8",
                        "PIC 14",
                        "PIC 16",
                        "Padauk 13",
                        "Padauk 14",
                        "Padauk 15"
                    ]
                },
                "optimize-type": {
                    "type": "string",
                    "markdownDescription": "Optimization Level",
                    "description.zh-cn": "代码优化级别",
                    "default": "balanced",
                    "enum": [
                        "speed",
                        "balanced",
                        "size"
                    ]
                },
                "plain-char-is-signed": {
                    "type": "boolean",
                    "markdownDescription": "plain char is signed",
                    "enum": [
                        true,
                        false
                    ]
                },
                "out-debug-info": {
                    "type": "boolean",
                    "markdownDescription": "output debug info",
                    "enum": [
                        true,
                        false
                    ]
                },
                "use-non-free": {
                    "type": "boolean",
                    "markdownDescription": "use non-free libraries and include paths",
                    "disable_readable_name": true,
                    "enum": [
                        true,
                        false
                    ]
                },
                "stack-auto": {
                    "type": "boolean",
                    "markdownDescription": "Stack automatic variables",
                    "disable_readable_name": true,
                    "enum": [
                        true,
                        false
                    ]
                },
                "use-external-stack": {
                    "type": "boolean",
                    "markdownDescription": "Use external stack",
                    "disable_readable_name": true,
                    "enum": [
                        true,
                        false
                    ]
                },
                "int-long-reent": {
                    "type": "boolean",
                    "markdownDescription": "Use reentrant calls on the int and long support functions",
                    "disable_readable_name": true,
                    "enum": [
                        true,
                        false
                    ]
                },
                "float-reent": {
                    "type": "boolean",
                    "markdownDescription": "Use reentrant calls on the float support functions",
                    "disable_readable_name": true,
                    "enum": [
                        true,
                        false
                    ]
                },
                "xram-movc": {
                    "type": "boolean",
                    "markdownDescription": "Use movc instead of movx to read xram (xdata)",
                    "disable_readable_name": true,
                    "enum": [
                        true,
                        false
                    ]
                },
                "noinit-xram-from-code": {
                    "type": "boolean",
                    "markdownDescription": "don't memcpy initialized xram from code",
                    "disable_readable_name": true,
                    "enum": [
                        true,
                        false
                    ]
                },
                "peep-asm": {
                    "type": "boolean",
                    "markdownDescription": "Enable peephole optimization on inline assembly",
                    "disable_readable_name": true,
                    "enum": [
                        true,
                        false
                    ]
                },
                "peep-return": {
                    "type": "boolean",
                    "markdownDescription": "Enable peephole optimization for return instructions",
                    "disable_readable_name": true,
                    "enum": [
                        true,
                        false
                    ]
                },
                "allow-unsafe-read": {
                    "type": "boolean",
                    "markdownDescription": "Allow optimizations to read any memory location anytime",
                    "disable_readable_name": true,
                    "enum": [
                        true,
                        false
                    ]
                },
                "no-optimize-std-lib": {
                    "type": "boolean",
                    "markdownDescription": "Disable optimization of calls to standard library",
                    "disable_readable_name": true,
                    "enum": [
                        true,
                        false
                    ]
                },
                "misc-controls": {
                    "markdownDescription": "Other Global Options",
                    "description.zh-cn": "编译器附加选项（全局）",
                    "$ref": "#/definitions/misc-controls"
                }
            }
        },
        "c/cpp-compiler": {
            "markdownDescription": "C/C++ Compiler Options",
            "description.zh-cn": "C/C++ 编译器选项",
            "type": "object",
            "properties": {
                "language-c": {
                    "markdownDescription": "C Standard",
                    "description.zh-cn": "C 标准",
                    "type": "string",
                    "default": "c99",
                    "enum": [
                        "c89",
                        "sdcc89",
                        "c95",
                        "c99",
                        "sdcc99",
                        "c11",
                        "sdcc11",
                        "c2x",
                        "sdcc2x"
                    ]
                },
                "misc-controls": {
                    "markdownDescription": "Other C Compiler Options",
                    "description.zh-cn": "C 编译器附加选项",
                    "$ref": "#/definitions/misc-controls"
                }
            }
        },
        "asm-compiler": {
            "markdownDescription": "Assembler Options",
            "description.zh-cn": "汇编器选项",
            "type": "object",
            "properties": {
                "misc-controls": {
                    "markdownDescription": "Other Assembler Options",
                    "description.zh-cn": "汇编器附加选项",
                    "$ref": "#/definitions/misc-controls"
                }
            }
        },
        "linker": {
            "markdownDescription": "Linker Options",
            "description.zh-cn": "链接器选项",
            "type": "object",
            "properties": {
                "output-format": {
                    "type": "string",
                    "default": "hex",
                    "description": "Output Format",
                    "description.zh-cn": "输出格式",
                    "enum": [
                        "hex",
                        "s19",
                        "elf",
                        "lib"
                    ],
                    "enumDescriptions": [
                        "HEX",
                        "S19",
                        "ELF (Only for STM8/HC08/S08)",
                        "LIB (Static Library)"
                    ]
                },
                "$disableOutputTask": {
                    "type": "boolean",
                    "markdownDescription": "Not Output Executable File",
                    "description.zh-cn": "不生成可执行文件",
                    "enum": [
                        true,
                        false
                    ]
                },
                "$objectSuffix": {
                    "readable_name": "Object file suffix",
                    "readable_name.zh-cn": "obj 文件后缀",
                    "markdownDescription": "Object file suffix, default: '.rel'",
                    "description.zh-cn": "obj 文件后缀, 默认：'.rel'",
                    "type": "string",
                    "size": "small",
                    "default": ".rel"
                },
                "$mainFileName": {
                    "readable_name": "Source filename containing 'main()'",
                    "readable_name.zh-cn": "main() 函数所在源文件",
                    "markdownDescription": "Source filename containing 'main()', default: 'main'",
                    "description.zh-cn": "含有 main() 函数的源文件名，默认：'main'",
                    "type": "string",
                    "size": "small",
                    "default": "main"
                },
                "misc-controls": {
                    "markdownDescription": "Other Linker Options",
                    "description.zh-cn": "链接器附加选项",
                    "$ref": "#/definitions/misc-controls"
                }
            }
        }
    }
}